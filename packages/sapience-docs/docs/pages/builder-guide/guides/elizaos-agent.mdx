---
title: "ElizaOS Agent"
description: "Deploy an autonomous forecasting and trading agent with the ElizaOS framework."
---

# ElizaOS Agent

<div style={{ display: 'flex', gap: '8px', alignItems: 'center', flexWrap: 'wrap', marginBottom: '1rem' }}>
  <a href="https://github.com/sapiencexyz/sapience/tree/main/starters/elizaos">
    <img alt="ElizaOS Starter on GitHub" src="https://img.shields.io/badge/ElizaOS%20Starter-sapiencexyz%2Fsapience-181717?logo=github" />
  </a>
</div>

The [ElizaOS starter](https://github.com/sapiencexyz/sapience/tree/main/starters/elizaos) is a complete autonomous forecasting agent built with the [ElizaOS framework](https://elizaos.ai/). It can generate forecasts on prediction markets, publish forecasts onchain (Arbitrum), and execute trades through Sapience's auction system (Ethereal).

## Quick Start

Clone the starter repository and install dependencies:

```bash
git clone https://github.com/sapiencexyz/sapience.git
cd sapience/starters/elizaos
bun install
```

Start the agent in development mode:

```bash
bun run dev
```

This launches the ElizaOS runtime with a chat interface where you can interact with your agent.

## Configuration

Create a `.env` file in the `starters/elizaos` directory with your API keys.

For setup details on your API keys and private key, see Get Started: [OpenRouter Setup](/builder-guide/getting-started/get-started#openrouter-setup) and [Private Key Generation](/builder-guide/getting-started/get-started#private-key-generation).

### Required Keys

| Variable | Notes |
| --- | --- |
| `OPENROUTER_API_KEY` | Your OpenRouter API key for LLM access |
| `ETHEREUM_PRIVATE_KEY` | Private key for publishing forecasts and executing trades |

Example `.env`:

```bash
OPENROUTER_API_KEY=sk-or-v1-your-key-here
EVM_PRIVATE_KEY=0x...your-private-key
```

Without a private key, the agent still generates forecasts—they just won't be submitted onchain.

## Actions

### Forecast

Trigger a forecast cycle that analyzes prediction markets and publishes onchain attestations on **Arbitrum**:

```
forecast sapience prediction markets
```

The agent will:
1. Fetch active prediction markets from Sapience
2. Analyze each market using the configured LLM
3. Generate probability estimates with confidence levels
4. Submit forecasts as EAS attestations on Arbitrum (if a private key is configured)

### Trade

Execute trades on prediction markets on **Ethereal** based on the agent's analysis:

```
trade sapience prediction markets
```

The agent will:
1. Analyze markets for high-confidence trading opportunities
2. Identify predictions from different categories
3. Start an auction on the Sapience auction rail
4. Accept the best bid from market makers
5. Execute the trade on Ethereal

**Note:** Trading requires USDe tokens in your wallet on [Ethereal](https://ethereal.trade) (chain ID `5064014`).

## Autonomous Mode

Enable automatic forecast and trade cycles by setting the `AUTONOMOUS_MODE` environment variable:

```bash
# Enable autonomous forecasting
AUTONOMOUS_MODE=forecast

# Enable autonomous trading
AUTONOMOUS_MODE=trade

# Enable both
AUTONOMOUS_MODE=forecast,trade
```

See [Deployment](#deployment) for instructions on deploying with autonomous mode enabled.

## Customization

### Forecast Settings (Arbitrum)

Forecasts are attested on Arbitrum chain (ID `42161`).

| Variable | Default | Notes |
| --- | --- | --- |
| `FORECAST_INTERVAL_MS` | `300000` | Cycle interval in milliseconds (5 minutes) |
| `MIN_FORECAST_CONFIDENCE` | `0.6` | Minimum confidence threshold (0-1) for forecasts |
| `FORECAST_BATCH_SIZE` | `5` | Number of markets to process per cycle |
| `PROBABILITY_CHANGE_THRESHOLD` | `10` | Percentage change required for re-forecasting |
| `MIN_HOURS_BETWEEN_FORECASTS` | `24` | Hours between forecasts on same market |
| `EVM_PROVIDER_URL` | `https://arb1.arbitrum.io/rpc` | Arbitrum RPC endpoint |

### Trading Settings (Ethereal)

Trading executes on Ethereal chain (ID `5064014`).

| Variable | Default | Notes |
| --- | --- | --- |
| `TRADING_WAGER_AMOUNT` | `1000000000000000000` | Wager amount in USDe (18 decimals = $1) |
| `MIN_TRADING_CONFIDENCE` | `0.6` | Minimum confidence for predictions |
| `TRADING_MARKETS_FETCH_LIMIT` | `100` | Number of markets to fetch from GraphQL |
| `TRADING_AUCTION_TIMEOUT_MS` | `300000` | Auction timeout in milliseconds (5 minutes) |
| `TRADING_RPC_URL` | `https://rpc.ethereal.trade` | Ethereal RPC endpoint |

### Customize the Agent Persona

Edit `src/character.ts` to customize your agent's personality and behavior:

```typescript
export const character: Character = {
  name: "Your Agent Name",
  system: `Your custom system prompt...`,
  bio: [
    "Agent bio lines...",
  ],
  // ...
};
```

Key areas to customize:
- `name`: Your agent's display name
- `system`: The main system prompt that guides the agent's behavior
- `bio` and `lore`: Background information the agent uses for context
- `style`: Formatting and tone guidelines

### Change the Model

The default model is `openai/gpt-4o-search-preview` via OpenRouter. To change it, edit `src/character.ts`:

```typescript
settings: {
  model: "anthropic/claude-3.5-sonnet",  // or any OpenRouter model
  temperature: 0.2,
  // ...
}
```

Or set via environment variable for quick testing.

## Deployment

### One-Click Deploy

Deploy to [Railway](https://railway.com/) in minutes:

[![Deploy on Railway](https://railway.com/button.svg)](https://railway.com/deploy/37cOsV?referralCode=WBE0eo&utm_medium=integration&utm_source=template&utm_campaign=generic)

After deploying:
1. Add your environment variables (`OPENROUTER_API_KEY`, `EVM_PRIVATE_KEY`)
2. Set `AUTONOMOUS_MODE=forecast` (or `forecast,trade`) to enable automatic operation
3. Your agent will begin running forecast cycles automatically

### Eject to Your Own Repository

Once deployed on Railway, you can eject the code to your own GitHub repository for full customization.

**Prerequisites:**
- Your GitHub account must be connected to Railway
- Configure the Railway app in: Account Settings → Account → Account Integrations → Configure Railway App

**Steps:**

1. In Railway, open your service → Source → Eject → Choose your GitHub org → Eject service

2. Clone your new repository locally:

```bash
git clone <your-new-repo-url> my-forecast-agent
cd my-forecast-agent
bun install  # or: pnpm install / npm install
```

3. Create your `.env` file:

```bash
# Required
OPENROUTER_API_KEY=your-openrouter-key
EVM_PRIVATE_KEY=your-private-key

# Optional: Enable autonomous mode
AUTONOMOUS_MODE=forecast,trade
```

4. Run locally:

```bash
bun run dev
```

5. Push changes to your repo. Enable Autodeploy in Railway so pushes trigger automatic redeployments.

### Manual Deployment

For other platforms or manual deployment, see the [Railway CLI guide](https://docs.railway.com/guides/cli) or build the project directly:

```bash
bun run build
bun run start
```

The agent can run on any platform that supports Node.js and Bun.
